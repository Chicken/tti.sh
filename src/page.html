<!DOCTYPE html>
<html lang="en">

<head>
    <title>{{title}} | tti.sh</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="language" content="en_us">
    <meta name="theme-color" content="#090609">
    <meta name="keywords"
        content="antti,ellila,ellilÃ¤,antti.codes,tti.sh,developer,programmer,sysadmin,coding,blog,guide,{{rawTags}}">
    <meta name="description" content="{{description}}" />

    <meta name="og:title" content="tti.sh" />
    <meta name="og:url" content="https://tti.sh/" />
    <meta name="og:type" content="blog">
    <meta name="og:locale" content="en_us">
    <meta name="og:email" content="antti@antti.codes" />

    <link rel="preload" href="../SpaceMono.ttf" as="font" type="font/ttf" crossorigin>
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../highlight-catppuccin.css">
    <!-- dev -->
</head>

<body>
    <div class="top">
        <h1>tti.sh</h1>
    </div>

    <a href=".." class="back">&lt;&lt;</a>

    <h2>{{title}}</h2>

    <div class="metadata">
        <p>Released on {{date}}{{updated}}</p>
        
        {{tags}}
    </div>

    <div class="content">
        {{content}}
    </div>

    <h3 class="comments-title">Comments</h3>

    {{comments}}

    <script>
        const comments = document.querySelector(".comments");
        const origin = new URL(comments.src).origin;
        const load = Date.now();
        window.addEventListener("message", (event) => {
            if (event.origin !== origin) return;
            if (event.data?.action === "set-size") {
                const oldScroll = document.body.scrollHeight - window.scrollY;
                comments.height = event.data.height;
                if (event.data.editing) return;
                if (Date.now() - load > 2000) {
                    const newScroll = document.body.scrollHeight - window.scrollY;
                    const scrollDiff = oldScroll - newScroll;
                    window.scroll(0, window.scrollY - scrollDiff)
                }
            }
        })
    </script>
</body>

</html>
